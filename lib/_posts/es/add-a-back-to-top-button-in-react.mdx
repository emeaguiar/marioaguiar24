---
title: Agregar un bot√≥n de ‚Äúvolver arriba‚Äù en React
publishedOn: '2024-07-28'
updatedOn: '2024-10-18T04:06:55.847Z'
description: En este tutorial aprender√°s a crear un bot√≥n de regreso al inicio en React.
published: true
readingTime: 360
---
import AlignWide from '@/components/blog/align-wide';
import { SampleButton } from '@/examples/add-a-back-to-top-button-in-react/es';

Una de las funcionalidades m√°s comunes hoy en d√≠a (y m√°s √∫tiles la verdad), es 
la de **agregar un bot√≥n para ‚Äúvolver arriba‚Äù** en nuestras p√°ginas, especialmente 
cuando nuestro contenido tiende a ser largo.

Y la verdad es que no es algo muy dif√≠cil de lograr, con unas pocas l√≠neas de 
c√≥digo puedes lograr algo muy vistoso, como lo que tengo en este blog (que me 
gust√≥ mucho el resultado).

As√≠ que a continuaci√≥n dejar√© los pasos que tom√© para a√±adir un bot√≥n de ‚Äúvolver 
arriba‚Äù en React a este blog, que aunque est√° hecho con _Next.js_, al final sigue 
siendo React. Comencemos:

## Tabla de contenido

- [Paso 1: Agregar el bot√≥n](#paso-1-agregar-el-bot√≥n)
- [Paso 2: Agregar el c√≥digo para ‚Äúvolver arriba‚Äù](#paso-2-agregar-el-c√≥digo-para-volver-arriba)
- [Paso 3: Estilizar el bot√≥n](#paso-3-estilizar-el-bot√≥n)
- [Paso 4: Mostrar el bot√≥n cuando bajamos la p√°gina](#paso-4-mostrar-el-bot√≥n-cuando-bajamos-la-p√°gina)

## Paso 1: Agregar el bot√≥n

Para motivos pr√°cticos, en este tutorial yo utilizar√© [Tailwind CSS](https://tailwindcss.com/) 
(ya que es lo que utilizo en el blog). Pero **explicar√© el razonamiento** en t√©rminos 
de **CSS** para que sea f√°cilmente transportable a cualquier otro sistema.

### Paso 1.1 Creando el bot√≥n

El funcionamiento b√°sico de un bot√≥n para volver arriba no es m√°s que un _anchor_ 
en la p√°gina, el cual enlazaremos en nuestro bot√≥n para dar un ‚Äúsalto‚Äù hasta la 
parte superior de la p√°gina. Por ejemplo:

```jsx
<main id=‚Äúcontent‚Äù>
	[‚Ä¶nuestro contenido]
</main>
```

Y al fondo de nuestro sitio agregamos nuestro bot√≥n:

```jsx
<a href=‚Äú#main‚Äù>Volver arriba</a>
```

En teor√≠a **eso es todo lo que necesitamos**, pero honestamente es algo anticuado, 
y el salto puede parecer repentino para muchas personas, por lo tanto la mayor√≠a
de las veces agregamos un poco de Javascript para hacer el salto m√°s suave.

Comencemos creando el bot√≥n en React:

## Paso 2: Agregar el c√≥digo para ‚Äúvolver arriba‚Äù

Para crear un bot√≥n en React, lo primero que necesitamos es un componente que
nos permita hacer el salto. En este caso, yo lo llamar√© `BackToTopButton`.

```jsx
import React from 'react';

export default function BackToTopButton() {
    return (
        <a href="#main">Volver arriba</a>
    );
}
```

Y luego, en nuestro componente principal, lo importamos y lo agregamos al final

```jsx
import BackToTopButton from './BackToTopButton';

export default function Main() {
    return (
        <main id="main">
            [‚Ä¶nuestro contenido]
            <BackToTopButton />
        </main>
    );
}
```

Eso agregar√° el bot√≥n al final de nuestra p√°gina, ahora, para hacer el salto m√°s 
suave, lo que necesitamos es agregar un poco de Javascript, para ello debemos 
utilizar la funci√≥n `scrollTo` de Javascript. Adem√°s, ya que estamos usando Javascript 
para manejar el salto, lo m√°s √≥ptimo es no utilizar un `anchor` en el bot√≥n, si no que 
utilizaremos un `button` en su lugar.

```jsx
import React from 'react';

export default function BackToTopButton() {
    // Funci√≥n para hacer el salto al dar click.
    const handleClick = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth', // Hace el salto m√°s suave.
        });
    };

    return (
        <button onClick={handleClick}>Volver arriba</button>
    );
}
```

> [!NOTE]
> **¬øPor qu√© no usamos un `anchor`?**
>
> Cuando utilizamos la etiqueta `a` con un `href` que apunta a un `id` en la p√°gina,
> efectivamente estamos creando un _enlace_ a alguna parte de nuestra p√°gina. Pero 
> en este caso, en lugar de un enlace, estamos creando **una interacci√≥n del usuario**.
> Por lo tanto, es m√°s sem√°ntico utilizar un `button` en lugar de un `anchor`.
>
> Adem√°s, al utilizar un bot√≥n no tenemos que preocuparnos por prevenir el comportamiento
> por defecto del navegador, ya que los botones no tienen un comportamiento por defecto.
> En otras palabras, no necesitamos agregar `e.preventDefault()` en el manejador de eventos.

### 2.1 ¬øComo funciona `scrollTo`?

La forma en que funciona `scrollTo` es bastante sencilla, simplemente le pasamos
un objeto con las propiedades `top` y `behavior`. La propiedad `top` es la posici√≥n 
(en pixeles) a la que queremos hacer el salto, en este caso `0` para ir al inicio de la p√°gina.

La propiedad `behavior` es la que **hace que el salto sea m√°s suave**, ya que le estamos
diciendo que lo haga de forma `smooth`. Si no le pasamos esta propiedad, el salto ser√°
instant√°neo.

Tambi√©n podemos pasar otras propiedades como `left` para hacer un _salto horizontal_, pero
en este caso no lo necesitamos.

## Paso 3: Estilizar el bot√≥n

Ahora que tenemos nuestro bot√≥n, necesitamos darle un poco de estilo. En mi caso,
utilizar√© [Tailwind CSS](https://tailwindcss.com/) como lo mencion√© anteriormente, 
pero puedes utilizar cualquier sistema de estilos que prefieras.

B√°sicamente lo que haremos ser√° hacer un **bot√≥n circular que contenga una flecha
apuntando hacia arriba**. Para ello, necesitamos agregar un poco de CSS a nuestro
componente.

> [!TIP]
> Tailwind utiliza _clases de CSS en l√≠nea_, por lo que no necesitamos importar un
> archivo de estilos, simplemente agregamos las clases directamente en el componente.
>
> Debajo de este ejemplo te mostrar√© c√≥mo hacerlo con CSS normal.

```jsx
import React from 'react';

export default function BackToTopButton() {
    const handleClick = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth',
        });
    };

    return (
        <button
          onClick={() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }}
          className="fixed bottom-0 right-0 z-50 m-4 rounded-full bg-primary p-2 text-white shadow-lg ring-1 ring-secondary"
        >
          Volver arriba
        </button>
    );
}
```

### 3.1 ¬øC√≥mo hacerlo con CSS normal?

Si prefieres utilizar CSS normal, puedes hacerlo de la siguiente manera:

```scss
button {
    background-color: var(--color--primary); // O nuestro color primario
    border: 1px solid var(--color--secondary); // O nuestro color secundario.
    border-radius: 50%;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); // Definida por Tailwind.
    color: white;
    inset-block-end: 0;
    inset-inline-end: 0;
    margin: 1rem; // 16px o "4" en t√©rminos de Tailwind.
    padding: 0.5rem; // 8px o "2" en t√©rminos de Tailwind.
    position: fixed;
    z-index: 50;
}
```

B√°sicamente, lo que estamos haciendo es crear un bot√≥n circular con un color de fondo
primario, un borde secundario, una sombra y un color de texto blanco. Adem√°s, lo estamos
posicionando en la esquina inferior derecha de la p√°gina. Y especificamos que _siempre_ 
se mantenga ah√≠.

Para nuestro √≠cono de flecha, podemos utilizar un √≠cono de [Heroicons](https://heroicons.com/),
que es una librer√≠a de √≠conos de c√≥digo abierto, creado por el equipo de Tailwind.
En este caso, utilizaremos el √≠cono `arrow-up`:

```jsx
import React from 'react';
import { ArrowUpIcon } from '@heroicons/react/24/solid';

export default function BackToTopButton() {
    const handleClick = () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth',
        });
    };

    return (
        <button
          onClick={() => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          }}
          className="fixed bottom-0 right-0 z-50 m-4 rounded-full bg-primary p-2 text-white shadow-lg ring-1 ring-secondary"
        >
          <ArrowUpIcon className="h-6 w-6" />

          <span className="sr-only">Volver arriba</span>
        </button>
    );
}
```

Esto nos dar√° un resultado similar al siguiente (dale click üòâ):

<AlignWide>
  <SampleButton />
</AlignWide>

> [!TIP]
> **¬øQu√© es `sr-only`?**
>
> `sr-only` es una clase de Tailwind que oculta un elemento visualmente, pero lo mantiene
> accesible para lectores de pantalla. En este caso, estamos utilizando un `span` con el
> texto ‚ÄúVolver arriba‚Äù para que los lectores de pantalla sepan lo que hace el bot√≥n.

## Paso 4: Mostrar el bot√≥n cuando bajamos la p√°gina

Ahora tenemos nuestro bot√≥n en la p√°gina, sin embargo hay varios ajustes que podemos 
hacer, por ejemplo, **no necesitamos agregar un bot√≥n de "Volver arriba" si estamos
en la parte superior de la p√°gina**. Por lo tanto s√≥lo deber√≠amos mostrar el bot√≥n
cuando el usuario haya bajado un poco, para que tenga sentido.

Como estamos utilizando React, podemos utilizar el _hook_ `useState` para manejar
el _estado_ de nuestro bot√≥n. Por ejemplo, podemos crear un estado llamado `showButton`
que sea `true` cuando el usuario haya bajado m√°s de `100px` en la p√°gina:

Para saber en que posici√≥n de la p√°gina se encuentra el usuario, podemos utilizar
la propiedad `window.scrollY` de Javascript, que nos dar√° la cantidad de pixeles que
el usuario ha bajado en la p√°gina. Esto justo con el evento `scroll`, 
que har√° el chequeo cada vez que el usuario haga _scroll_ en la p√°gina.

Por √∫ltimo, para hacer el chequeo m√°s eficiente, podemos utilizar el _hook_ `useEffect`
que guarde una referencia al evento `scroll` **y lo quite cuando el componente se desmonte**.
Siempre hay que pensar en la _limpieza_ de nuestros componentes.

```jsx
import React, { useState, useEffect } from 'react';
import { ArrowUpIcon } from '@heroicons/react/24/solid';

export default function BackToTop() {
  const [showButton, setShowButton] = useState(false);

  useEffect(() => {
    // Funci√≥n para mostrar el bot√≥n cuando el usuario haya bajado m√°s de 100px.
    const toggleVisibility = () => {
      if (window.scrollY > 100) {
        setIsVisible(true);
      } else {
        setIsVisible(false);
      }
    };

    // Agregamos el evento scroll.
    window.addEventListener('scroll', toggleVisibility);

    // Limpiamos el evento cuando el componente se desmonte.
    return () => {
      window.removeEventListener('scroll', toggleVisibility);
    };
  }, []);

  const handleClick = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  return showButton && (
    <button
      onClick={handleClick}
      className="fixed bottom-0 right-0 z-50 m-4 rounded-full bg-primary p-2 text-white shadow-lg ring-1 ring-secondary"
    >
      <ArrowUpIcon className="h-6 w-6" />

      <span className="sr-only">Volver arriba</span>
    </button>
  );
}
```

Con esto, ya tenemos un bot√≥n de ‚Äúvolver arriba‚Äù que se muestra cuando el usuario
ha bajado m√°s de `100px` en la p√°gina. Y que adem√°s hace un **salto suave** al inicio
de la p√°gina.

## Mejoras para el futuro

Este es un bot√≥n de ‚Äúvolver arriba‚Äù bastante b√°sico, pero hay muchas mejoras que
podemos hacerle, por ejemplo:

- **Animaciones**: Podemos agregar animaciones al bot√≥n para que aparezca y desaparezca
  de forma m√°s suave (como en este blog).
- **Estilos personalizados**: Podemos personalizar el bot√≥n con estilos m√°s acordes
  a nuestro sitio.

¬°Y muchas otras mejoras que podemos hacer! Pero por ahora, este bot√≥n es un buen
comienzo para a√±adir una funcionalidad muy √∫til a nuestro sitio.

Espero que este tutorial te haya sido de ayuda, y si tienes alguna duda, no dudes
en contactarme en [X](https://x.com/emeaguiar) o [enviarme un correo](mailto:me@marioaguiar.net), 
o el [formulario de contacto](/?modal=1).
